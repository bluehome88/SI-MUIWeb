jQuery(document).ready(function(d){(new WOW).init(),d(".et-lightbox-image").prettyPhoto({animation_speed:"slow",slideshow:1e4,social_tools:!1,show_title:!0,autoplay:!0,opacity:.9,theme:"light_square",deeplinking:!1});var e=[],r=[];d(".et-timeline-post-wrapper").each(function(){var o=d(this),n=d(this).data("id");e[n]=d(this).bxSlider({auto:!1,pagerCustom:"#et-timeline-"+n,useCSS:!1,nextText:'<i class="fa fa-arrow-right" aria-hidden="true"></i>',prevText:'<i class="fa fa-arrow-left" aria-hidden="true"></i>',pager:!0,infiniteLoop:!0,onSliderLoad:function(e){o.closest(".et-horizontal-timeline").find(".et-active").removeClass("et-active"),o.closest(".et-horizontal-timeline").find('li a[data-slide-index="'+e+'"]').addClass("et-active")},onSlideBefore:function(e,t,a){o.closest(".et-horizontal-timeline").find(".et-active").removeClass("et-active"),o.closest(".et-horizontal-timeline").find('li a[data-slide-index="'+a+'"]').addClass("et-active");var i=r[n];i.getSlideCount()-a>=l?i.goToSlide(a):i.goToSlide(i.getSlideCount()-l)}})});var l=0;d(".et-hor-timeline-date").each(function(){var e=d(this).data("id");r[e]=d(this).bxSlider({minSlides:1,maxSlides:3,useCSS:!1,slideWidth:350,moveSlides:1,auto:!1,pager:!1,infiniteLoop:!0,controls:!1})});var a=[];function c(e,t,a,i,o,n){var r="";1<e&&(r+='<li class="et-previous-page-wrap"><a href="javascript:void(0);" class="et-previous-page" data-total-page="'+t+'" data-layout-type="'+i+'" data-post-id="'+a+'"  data-prev-arrow="'+n+'" data-next-arrow="'+o+'">'+n+"</a></li>");var l=e+2,s=e-2;t<l&&(l=t),s<1&&(s=1),l-s<5&&1<=l-4&&(s=l-4),l<5&&5<=t&&(l=5);for(var d=s;d<=l;d++)r+='<li><a href="javascript:void(0);" data-total-page="'+t+'" data-page-number="'+d+'" class="'+(e===d?"et-current-page et-page-link":"et-page-link")+'" data-layout-type="'+i+'" data-post-id="'+a+'" data-prev-arrow="'+n+'" data-next-arrow="'+o+'">'+d+"</a></li>";return e<t&&(r+='<li class="et-next-page-wrap"><a href="javascript:void(0);" data-total-page="'+t+'" class="et-next-page" data-layout-type="'+i+'" data-post-id="'+a+'" data-prev-arrow="'+n+'" data-next-arrow="'+o+'">'+o+"</a></li>"),r}d(".et-timeline-one").each(function(){var e=d(this).data("id"),t=d(this).data("template"),t="template-4"===t||"template-6"===t?20:0;a[e]=d(this).bxSlider({minSlides:1,maxSlides:3,slideWidth:360,moveSlides:1,slideMargin:t,auto:!1,pager:!1,useCSS:!1,infiniteLoop:!0,nextText:'<i class="fa fa-angle-right" aria-hidden="true"></i>',prevText:'<i class="fa fa-angle-left" aria-hidden="true"></i>'})}),d(".et-timeline-one").on("click",".et-icon-block,.et-timeline-date-one, .et-top-date-line",function(){var e=d(this).closest(".et-timeline-one").data("id");a[e].goToNextSlide()}),d(".et-open-content").on("click",function(){d(".et-toggle-inner-content").slideUp(700),d(this).closest(".et-all-contain-here").find(".et-toggle-inner-content").slideDown(700)}),d("body").on("click",".et-page-link",function(){var t=d(this);t.closest(".et-pagination-block").find(".et-page-link").removeClass("et-current-page"),d(this).addClass("et-current-page");var a=d(this).data("layout-type"),i=d(this).data("page-number"),o=d(this).data("post-id"),n=d(this).data("total-page"),r=d(this).data("next-arrow"),l=d(this).data("prev-arrow");d.ajax({type:"post",url:et_frontend_js_params.ajax_url,data:{action:"et_pagination_action",_wpnonce:et_frontend_js_params.ajax_nonce,layout_type:a,page_num:i,total_page:n,post_id:o,next_arrow:r,prev_arrow:l},beforeSend:function(e){t.closest(".et-pagination-block").find(".et-ajax-loader").show()},success:function(e){0<t.closest(".et-main-blog-wrapper").find(".et-filter-wrap").length&&t.closest(".et-main-blog-wrapper").find('.et-filter-trigger[data-filter-key="et-filter-all"]').click(),t.closest(".et-pagination-block").find(".et-ajax-loader").hide(),t.closest(".et-main-blog-wrapper").find(".et-layout-"+a+"-section .et-blog-cover").html(e),d("html, body").animate({scrollTop:t.closest(".et-main-blog-wrapper").find(".et-layout-"+a+"-section").offset().top-200},900);e=c(i,n,o,a,r,l);t.closest(".et-main-blog-wrapper").find(".et-pagination-block ul").html(e)}})}),d("body").on("click",".et-next-page,.et-previous-page",function(){var t=d(this),a=d(this).data("layout-type"),i=d(this).data("post-id"),o=d(this).data("total-page"),n=d(this).closest(".et-pagination-block").find(".et-current-page").data("page-number"),e=parseInt(n)+1,r=parseInt(n)-1,l=d(this).data("next-arrow"),s=d(this).data("prev-arrow"),n=t.hasClass("et-previous-page")?r:e;d.ajax({type:"post",url:et_frontend_js_params.ajax_url,data:{action:"et_pagination_action",_wpnonce:et_frontend_js_params.ajax_nonce,layout_type:a,page_num:n,post_id:i},beforeSend:function(e){t.closest(".et-pagination-block").find(".et-ajax-loader").show()},success:function(e){0<t.closest(".et-main-blog-wrapper").find(".et-filter-wrap").length&&t.closest(".et-main-blog-wrapper").find('.et-filter-trigger[data-filter-key="et-filter-all"]').click(),t.closest(".et-pagination-block").find(".et-ajax-loader").hide(),t.closest(".et-main-blog-wrapper").find(".et-layout-"+a+"-section .et-blog-cover").html(e),d("html, body").animate({scrollTop:t.closest(".et-main-blog-wrapper").find(".et-layout-"+a+"-section").offset().top-200},900);e=c(n,o,i,a,l,s);t.closest(".et-main-blog-wrapper").find(".et-pagination-block ul").html(e)}})}),d(".et-load-more-trigger").click(function(){var t=d(this),a=d(this).data("layout-type"),e=d(this).data("page-number"),i=d(this).data("post-id"),o=d(this).data("total-page"),n=parseInt(e)+1,e=d(".et-timeline-item").last().data("time");n<=o?d.ajax({type:"post",url:et_frontend_js_params.ajax_url,data:{action:"et_pagination_action",_wpnonce:et_frontend_js_params.ajax_nonce,layout_type:a,page_num:n,post_id:i,date:e},beforeSend:function(e){t.hide(),t.closest(".et-load-more-block").find(".et-ajax-loader").show()},success:function(e){t.data("page-number",n),t.closest(".et-load-more-block").find(".et-ajax-loader").hide(),0<t.closest(".et-main-blog-wrapper").find(".et-filter-wrap").length&&t.closest(".et-main-blog-wrapper").find('.et-filter-trigger[data-filter-key="et-filter-all"]').click(),t.closest(".et-main-blog-wrapper").find(".et-layout-"+a+"-section .et-blog-cover").append(e),n===o?t.remove():t.show()}}):t.remove()});var s=0;d(".et-infinite-load-trigger").click(function(){var t=d(this),a=d(this).data("layout-type"),e=d(this).data("page-number"),i=d(this).data("post-id"),o=d(this).data("total-page"),n=parseInt(e)+1,e=d(".et-timeline-item").last().data("time");n<=o?d.ajax({type:"post",url:et_frontend_js_params.ajax_url,data:{action:"et_pagination_action",_wpnonce:et_frontend_js_params.ajax_nonce,layout_type:a,page_num:n,post_id:i,date:e},beforeSend:function(e){s=1,t.hide(),t.closest(".et-infinite-load").find(".et-infinite-loader").show()},success:function(e){s=0,t.data("page-number",n),t.closest(".et-infinite-load").find(".et-infinite-loader").hide(),0<t.closest(".et-main-blog-wrapper").find(".et-filter-wrap").length&&t.closest(".et-main-blog-wrapper").find('.et-filter-trigger[data-filter-key="et-filter-all"]').click(),t.closest(".et-main-blog-wrapper").find(".et-layout-"+a+"-section .et-blog-cover").append(e),n===o?t.remove():t.show()}}):t.remove()});for(var t=d(".et-timeline-history").map(function(){return d(this).data("id")}).get(),i=d(".et-timeline-history").map(function(){return d(this).data("time")}).get(),o=0;o<t.length;o++)d("#et-each-history-"+o).attr("href","#"+t[o]),d("#et-each-history-"+o).html(i[o]);d(".et-nav-history-bar").find("a").click(function(e){e.preventDefault();e=d(this).attr("href");d("html, body").animate({scrollTop:d(e).offset().top}),d(".et-time-bar").removeClass("et-active"),d(this).closest(".et-time-bar").addClass("et-active")}),0<d('.et-nav-history-bar a[href^="#"]').length&&d(document).on("scroll",function(e){var t=d(document).scrollTop();d('.et-nav-history-bar a[href^="#"]').each(function(){var e=d(this),e=d(e.attr("href"));"#"!=e&&0<d(e).length&&e.position().top&&e.position().top<=t&&e.position().top+e.height()>t&&(d(".et-time-bar").removeClass("et-active"),d(this).closest(".et-time-bar").addClass("et-active"))})}),d(window).scroll(function(){var e=(d(".et-infinite-scroll-wrapper").offset()||{top:NaN}).top,t=d(".et-infinite-scroll-wrapper");isNaN(e)||d(window).scrollTop()>=t.offset().top+t.outerHeight()-window.innerHeight&&0===s&&d(".et-infinite-load-trigger:first").trigger("click")}),d(".et-filter-trigger").click(function(){var e=d(this),t=e.data("filter-key");e.data("layout-type");e.closest(".et-filter-wrap").find(".et-filter-trigger").removeClass("et-active-filter"),e.addClass("et-active-filter"),"et-filter-all"===t?(e.closest(".et-main-blog-wrapper").find(".et-timeline-date").removeClass("et-hidden-grid").addClass("et-visible-grid").show(),e.closest(".et-main-blog-wrapper").find(".et-timeline-item").removeClass("et-hidden-grid").addClass("et-visible-grid").show()):(e.closest(".et-main-blog-wrapper").find(".et-timeline-date").addClass("et-hidden-grid").removeClass("et-visible-grid").hide(),e.closest(".et-main-blog-wrapper").find(".et-timeline-item").addClass("et-hidden-grid").removeClass("et-visible-grid").hide(),e.closest(".et-main-blog-wrapper").find("."+t).removeClass("et-hidden-grid").addClass("et-visible-grid").show())});var n=[];d(".et-extra-slider-wrap").each(function(){var e=d(this).data("id");n[e]=d(this).bxSlider({auto:!1,control:!0,pager:!0,infiniteLoop:!0,nextText:'<i class="fa fa-angle-right" aria-hidden="true"></i>',prevText:'<i class="fa fa-angle-left" aria-hidden="true"></i>'})}),d(".et-nav-one").click(function(){d(this).closest(".et-nav-history-bar").toggleClass("et-nav-active")}),d(".et-year-wrap").click(function(){d(this).closest(".et-date-outer-wrap").find(".et-month-day-wrap").slideToggle()}),d(".et-nav-three").click(function(){d(this).closest(".et-nav-history-bar").find(".et-time-wrap").slideToggle()}),d("body").on("change",".et-variable-price",function(){var e=d(this).val(),t=d(this).closest(".et-price").find(".et_price_options").data("id"),a=d(this).closest(".et-price").find(".et_price_options").data("link");d(this).closest(".et-timeline-item").find(".et-edd-price").attr("href",a+"?edd_action=add_to_cart&download_id="+t+"&edd_options[price_id]="+e)}),d(".et-timeline-line").each(function(){d(".et-timeline-line").prev(".et-timeline-item").addClass("et-last-child")})});